import matplotlib.pyplot as plt
from boolean2 import Model

#

#
# 
text = """


Glucose = False
LactoseI = False
LactoseO = True
Allolactose = True
LacI = True
LacZ = False
LacY = False
LacZYAmRNA = False

LacZ* = LacZYAmRNA
LacY* = LacZYAmRNA
LacZYAmRNA* = not Glucose and not LacI
Allolactose* = LacZ and LactoseI
LactoseI = LacY and LactoseO
LacI = not Allolactose


"""

model = Model( text=text, mode='sync')
model.initialize()
model.iterate( steps=15 )

# the model data attribute holds the states keyed by nodes
for node in model.data:
    print(node, model.data[node])

# this is a helper function that reports the cycle lengths 
# and the  index at wich the cycle started
model.report_cycles()

#
# the same thing as above but
# will not print only return the two parameters
#
print(model.detect_cycles())    

#
# this is how one plots the values, delete this below
# if matplotlib is not installed
#
p1 = plt.plot( model.data["LacZ"] , 'ob-' ,label = "LacZ")
p2 = plt.plot( model.data["LacY"] , 'sr-', label = "LacY" )
p3 = plt.plot( model.data["LacI"] , 'og-', label = "LacI" )
p4 = plt.plot( model.data["Allolactose"] , 'sy-', label = "Alloactose" )
p5 = plt.plot( model.data["LacZYAmRNA"] , 'om-', label = "LacZYAmRNA" )
p6 = plt.plot( model.data["LactoseI"] , 'ow-', label = "LactoseI" )
plt.legend( loc = "best")
plt.ylim((-0.1,1.1))
plt.show()


